(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03f0f2c0"],{"0b92":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",t._l(t.list,function(e,i){return s("li",{key:e._id||e.id,staticClass:"good-item border-bottom",on:{click:function(s){t.details(e)}}},[s("img",{class:{img2:t.isBrowse||t.isCollection||t.isOrder},attrs:{src:e.image||e.image_path,onerror:t.defaultImg}}),s("div",[s("p",{staticClass:"p1"},[t._v(t._s(e.name))]),s("p",{staticClass:"p2"},[t.isOrder?s("span",{staticClass:"pic"},[t._v("￥"+t._s((e.present_price*e.count).toFixed(2)))]):s("span",{staticClass:"pic"},[t._v("￥"+t._s(e.present_price))]),s("span",{staticClass:"orl-pic"},[t._v(t._s(e.orl_price))]),t.isOrder?s("span",{staticClass:"count"},[t._v("x"+t._s(e.count))]):t._e()])]),t.isBrowse||t.isCollection?s("div",{staticClass:"icon"},[s("van-icon",{staticClass:"close",attrs:{name:"close"},on:{click:function(s){s.stopPropagation(),t.close(e,i)}}})],1):t._e()])}),0)},a=[],n={props:{list:{type:null,default:[]},isBrowse:{type:Boolean,default:!1},isCollection:{type:Boolean,default:!1},isOrder:{type:Boolean,default:!1}},computed:{lists:function(){return this.isBrowse?"list":""}},data:function(){return{defaultImg:'this.src="'+s("5307")+'"'}},methods:{details:function(t){this.$emit("details",t)},close:function(t,e){this.$emit("close",t,e)}}},o=n,r=(s("41e2"),s("25c1")),c=Object(r["a"])(o,i,a,!1,null,"2e6ef2c4",null);c.options.__file="GoodsList.vue";e["a"]=c.exports},"13a0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"browse-warp"},[s("van-nav-bar",{attrs:{title:"我的收藏","left-arrow":""},on:{"click-left":t.goBack}}),s("Scroll",{staticClass:"scroll",attrs:{pullup:!0,data:t.dataArr},on:{scrollToEnd:t.scrollToEnd}},[s("div",[s("GoodsList",{attrs:{list:t.dataArr,isCollection:t.isCollection},on:{details:t.details,close:t.close}})],1),t.dataArr.length?t._e():s("div",{staticClass:"null"},[t._v("\n             "+t._s(t.userName?"暂无收藏~~":"请先登录噢~~")+"\n        ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading2,expression:"loading2"}],staticClass:"van-loading van-loading--circular van-loading--white",staticStyle:{color:"white"}},[s("span",{staticClass:"van-loading__spinner van-loading__spinner--circular"},[s("svg",{staticClass:"van-loading__circular",attrs:{viewBox:"25 25 50 50"}},[s("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])])]),s("router-view")],1)},a=[],n=(s("b5aa"),s("b8fa")),o=(s("d85c"),s("9134")),r=s("0b92"),c=s("3d93"),l={name:"Collection",mixins:[c["c"],c["d"],c["a"],c["e"]],components:{Scroll:o["a"],GoodsList:r["a"]},data:function(){return{isCollection:!0,list:[],isText:!1,page:1,loading2:!1}},created:function(){this.getCollection()},beforeRouteUpdate:function(t,e,s){"Details"==e.name&&this.getCollection(),s()},methods:{goBack:function(){this.$router.go(-1)},getCollection:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.userName){t.next=3;break}return this.showFlag=!1,t.abrupt("return");case 3:if(t.prev=3,!this.isLocked()){t.next=6;break}return t.abrupt("return");case 6:return this.locked(),this.loading2=!0,t.next=10,this.Api.getCollection(this.page);case 10:s=t.sent,i=s.data,200==i.code?(this.loading2=!1,this.setTotal(i.data.count),this.unLocked(),e?this.setNewData(i.data.list):this.dataArr=i.data.list):this.isText=!0,t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](3),this.unLocked(),this.$toast("网络错误"),this.loading2=!1;case 20:case"end":return t.stop()}},t,this,[[3,15]])}));function e(e){return t.apply(this,arguments)}return e}(),close:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,s){var i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.dataArr.splice(s,1),t.prev=1,t.next=4,this.Api.cancelCollection(e.cid);case 4:i=t.sent,a=i.data,a.code,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.$toast("网络错误");case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,s){return t.apply(this,arguments)}return e}(),scrollToEnd:function(){this.dataArr.length>=10&&(this.hasMore()?(this.page++,this.getCollection(!0)):this.$toast("没有更多数据了~~"))}}},u=l,d=(s("b6c0"),s("25c1")),p=Object(d["a"])(u,i,a,!1,null,"d1f3cb4e",null);p.options.__file="Collection.vue";e["default"]=p.exports},"41e2":function(t,e,s){"use strict";var i=s("eaee"),a=s.n(i);a.a},5307:function(t,e,s){t.exports=s.p+"img/vue.63050d8a.jpg"},b6c0:function(t,e,s){"use strict";var i=s("b9f4"),a=s.n(i);a.a},b9f4:function(t,e,s){},d85c:function(t,e,s){var i=s("9ba3").f,a=Function.prototype,n=/^\s*function ([^ (]*)/,o="name";o in a||s("241c")&&i(a,o,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},eaee:function(t,e,s){}}]);