webpackJsonp([18],{"0Hw8":function(e,t){},"4ml/":function(e,t){},"991W":function(e,t){},MXtD:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};n.d(o,"setTab",function(){return H}),n.d(o,"setCategoryTabList",function(){return T}),n.d(o,"setAddress",function(){return D}),n.d(o,"clearAddress",function(){return I}),n.d(o,"setBrowse",function(){return R}),n.d(o,"deleteOne",function(){return P}),n.d(o,"selectCity",function(){return L}),n.d(o,"setSearchHistory",function(){return N}),n.d(o,"clearSearchHistory",function(){return B});var r={};n.d(r,"category",function(){return M}),n.d(r,"categoryTabList",function(){return x}),n.d(r,"goodsDetails",function(){return Y}),n.d(r,"userName",function(){return _}),n.d(r,"addressInfo",function(){return W}),n.d(r,"browse",function(){return j}),n.d(r,"shopOrderList",function(){return F}),n.d(r,"temporaryAddress",function(){return G}),n.d(r,"city",function(){return U}),n.d(r,"active",function(){return V}),n.d(r,"searchHistoryList",function(){return q});var u=n("7+uW"),i=n("Xxa5"),a=n.n(i),s=n("exGp"),c=n.n(s),l=n("Dd8w"),d=n.n(l),f=n("NYxO"),p={name:"App",data:function(){return{payMent:!0,fade:null,noCatch:"ShoppingCart,Address,Collection,My,Details,Evaluate,Aevaluated",item:[{id:1,title:"商城",icon:"wap-home"},{id:2,title:"分类",icon:"wap-nav"},{id:3,title:"购物车",icon:"shopping-cart"},{id:4,title:"我的",icon:"contact"}]}},computed:d()({},Object(f.c)(["active"])),watch:{},methods:d()({change:function(e){var t=this.$router;0==e?t.push({path:"/"}):1==e?t.push({path:"/category"}):2==e?t.push({path:"/shoppingCart"}):t.push({path:"/my"})}},Object(f.d)({setName:"USERNAME"}),{keeplogin:function(){var e=this;return c()(a.a.mark(function t(){var n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.Api.keeplogin();case 3:n=t.sent,200==(o=n.data).code&&e.setName(o.userInfo),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.$toast("网络错误");case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()}}),mounted:function(){},created:function(){this.keeplogin()}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade"}},[n("keep-alive",{attrs:{exclude:e.noCatch}},[n("router-view")],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.payMent,expression:"payMent"}],staticClass:"tab"},[n("van-tabbar",e._l(e.item,function(t,o){return n("van-tabbar-item",{key:t.id,class:{active:e.active==o},attrs:{icon:t.icon},on:{click:function(t){e.change(o)}}},[e._v("\n        "+e._s(t.title)+"\n      ")])}))],1)],1)},staticRenderFns:[]};var m,v=n("VU/8")(p,h,!1,function(e){n("vuvC")},null,null).exports,y=n("/ocq"),g=n("bFR2"),b=function(e){return g.a.set("tab",e)},O=function(){return g.a.get("address",{})},A=function(e){return g.a.set("address",e)},k=function(){return g.a.remove("address")},w={getBrowse:function(){return g.a.get("browse",[])},setBrowse:function(e){var t=this.getBrowse();return t.length&&t.forEach(function(n,o){n.id==e.id&&t.splice(o,1)}),t.unshift(e),t.length>30&&t.pop(),g.a.set("browse",t),t},clearBrowse:function(){return g.a.remove("browse")},deleteOne:function(e){var t=this.getBrowse(),n=t.findIndex(function(t,n,o){return e==t.id});return t.splice(n,1),g.a.set("browse",t),t}},S=function(){return g.a.get("city","北京市")},E=function(e){return g.a.set("city",e)},C={getHistory:function(){return g.a.get("searchHistory",[])},setHistory:function(e){var t=this.getHistory();return t.length&&t.forEach(function(n,o){n==e&&t.splice(o,1)}),t.unshift(e),t.length>15&&t.pop(),g.a.set("searchHistory",t),t},clearHistory:function(){return g.a.set("searchHistory",[])}},H=function(e,t){(0,e.commit)("CATEGORY",b(t))},T=function(e,t){var n=e.commit,o=e.state,r=t.id,u=t.list,i=o.categoryTabList;i[r]||(i[r]=u),n("CATEGORYTABLIST",i)},D=function(e,t){(0,e.commit)("ADDRESSINFO",A(t))},I=function(e){(0,e.commit)("ADDRESSINFO",k())},R=function(e,t){var n=e.commit;e.state;n("BROWSE",w.setBrowse(t))},P=function(e,t){(0,e.commit)("BROWSE",w.deleteOne(t))},L=function(e,t){(0,e.commit)("CITY",E(t))},N=function(e,t){(0,e.commit)("SEARCHHISTORYLIST",C.setHistory(t))},B=function(e){(0,e.commit)("SEARCHHISTORYLIST",C.clearHistory())},M=function(e){return e.category},x=function(e){return e.categoryTabList},Y=function(e){return e.goodsDetails},_=function(e){return e.userName},W=function(e){return e.addressInfo},j=function(e){return e.browse},F=function(e){return e.shopOrderList},G=function(e){return e.temporaryAddress},U=function(e){return e.city},V=function(e){return e.active},q=function(e){return e.searchHistoryList},X={category:function(){return g.a.get("tab",[])}(),categoryTabList:{},goodsDetails:{},userName:null,addressInfo:O(),browse:w.getBrowse(),shopOrderList:[],temporaryAddress:"",city:S(),active:0,searchHistoryList:C.getHistory()},z=n("bOdI"),Z=n.n(z),$=(m={},Z()(m,"CATEGORY",function(e,t){e.category=t}),Z()(m,"CATEGORYTABLIST",function(e,t){e.categoryTabList=t}),Z()(m,"GOODSDETAILS",function(e,t){e.goodsDetails=t}),Z()(m,"USERNAME",function(e,t){e.userName=t}),Z()(m,"ADDRESSINFO",function(e,t){e.addressInfo=t}),Z()(m,"BROWSE",function(e,t){e.browse=t}),Z()(m,"SHOPORDERLIST",function(e,t){e.shopOrderList=t}),Z()(m,"TEMPORARYADDRESS",function(e,t){e.temporaryAddress=t}),Z()(m,"CITY",function(e,t){e.city=t}),Z()(m,"ACTIVE",function(e,t){e.active=t}),Z()(m,"SEARCHHISTORYLIST",function(e,t){e.searchHistoryList=t}),m);n("sax8");u.a.use(f.a);var J=new f.a.Store({actions:o,getters:r,state:X,mutations:$,strict:!1,plugins:[]});u.a.use(y.a);var Q=new y.a({mode:"history",routes:[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:function(e){Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"HXef")).then(function(t){e(t)})},meta:{title:"aaaaa"}},{path:"/category",name:"Category",component:function(e){Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"fAno")).then(function(t){e(t)})}},{path:"/shoppingCart",name:"ShoppingCart",component:function(e){Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"nvxw")).then(function(t){e(t)})}},{path:"/details",name:"Details",component:function(e){Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"t3vu")).then(function(t){e(t)})},props:function(e){return{id:e.query.id}}},{path:"/my",name:"My",component:function(e){Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"DWj+")).then(function(t){e(t)})}},{path:"/order",component:function(e){Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"auWW")).then(function(t){e(t)})},name:"MyOrder"},{path:"/collection",name:"Collection",component:function(e){Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"TZzH")).then(function(t){e(t)})}},{path:"/browse",name:"Browse",component:function(e){Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"fPYz")).then(function(t){e(t)})}},{path:"/evaluate",component:function(e){Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"laOi")).then(function(t){e(t)})},name:"Evaluate"},{path:"/aevaluated",component:function(e){n.e(14).then(n.bind(null,"/Oka")).then(function(t){e(t)})},name:"Aevaluated",props:function(e){return{id:e.query.id}}},{path:"/rate",component:function(e){n.e(13).then(n.bind(null,"oaUP")).then(function(t){e(t)})},name:"Rate",props:function(e){return{id:e.query.id}}},{path:"/address",name:"Address",component:function(e){Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"4S4F")).then(function(t){e(t)})}},{path:"/addressEdit",name:"AddressEdit",component:function(e){n.e(9).then(n.bind(null,"GjkY")).then(function(t){e(t)})}},{path:"/login",name:"Login",component:function(e){Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"P7ry")).then(function(t){e(t)})}},{path:"/city",component:function(e){Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"/QA7")).then(function(t){e(t)})},name:"City"},{path:"/shoppingPayMent",name:"ShoppingPayMent",component:function(e){Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"wfDR")).then(function(t){e(t)})}},{path:"*",redirect:"/home"}]});Q.beforeEach(function(e,t,n){var o=void 0;"/category"===e.path?o=1:"/shoppingCart"===e.path?o=2:"/my"===e.path?o=3:"/home"===e.path&&(o=0),J.commit("ACTIVE",o),n()});var K=Q,ee=n("+6Bu"),te=n.n(ee),ne=n("Zrlr"),oe=n.n(ne),re=n("wxAW"),ue=n.n(re),ie=n("mtWM"),ae=n.n(ie).a.create({baseURL:"http://"+(Object({NODE_ENV:"production",API_HOST:"http://localhost:3000/"}).HOST||"localhost")+":"+(Object({NODE_ENV:"production",API_HOST:"http://localhost:3000/"}).PORT||3e3),timeout:2e3,headers:{}}),se=function(){function e(){oe()(this,e)}return ue()(e,null,[{key:"recommend",value:function(){return ae.get("/recommend")}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ae.post("/search",{value:e,page:t})}},{key:"keeplogin",value:function(){return ae.post("/keeplogin")}},{key:"category",value:function(e){return ae.get("/classification?mallSubId="+e)}},{key:"getCard",value:function(){return ae.post("/getCard")}},{key:"editCart",value:function(e,t,n){return ae.post("/editCart",{count:e,id:t,mallPrice:n})}},{key:"deleteShop",value:function(e){return ae.post("/deleteShop",e)}},{key:"placeOrder",value:function(e){var t=te()(e,[]);return ae.post("/order",t)}},{key:"goodOne",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ae.get("/goods/one?id="+e+"&page="+t)}},{key:"collection",value:function(e){return ae.post("/collection",e)}},{key:"cancelCollection",value:function(e){return ae.post("/cancelCollection",{id:e})}},{key:"isCollection",value:function(e){return ae.post("/isCollection",{id:e})}},{key:"addShop",value:function(e){return ae.post("/addShop",{id:e})}},{key:"loginOut",value:function(){return ae.post("/loginOut")}},{key:"user",value:function(){return ae.post("/queryUser")}},{key:"saveUser",value:function(e){var t=te()(e,[]);return ae.post("/saveUser",t)}},{key:"getOrderNum",value:function(){return ae.get("/myOrder/orderNum")}},{key:"comment",value:function(e){var t=te()(e,[]);return ae.post("/goodsOne/comment",t)}},{key:"averify",value:function(){return"/verify"}},{key:"getAddress",value:function(){return ae.get("/getAddress")}},{key:"getDefaultAddress",value:function(){return ae.get("/getDefaultAddress")}},{key:"setDefaultAddress",value:function(e){return ae.post("/setDefaultAddress",{id:e})}},{key:"postAddress",value:function(e){var t=te()(e,[]);return ae.post("/address",t)}},{key:"deleteAddress",value:function(e){return ae.post("/deleteAddress",{id:e})}},{key:"getCollection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ae.get("/collection/list",{params:{page:e}})}},{key:"register",value:function(e,t,n){return ae.post("/register",{nickname:e,password:t,verify:n})}},{key:"login",value:function(e,t,n){return ae.post("/login",{nickname:e,password:t,verify:n})}},{key:"getMyOrder",value:function(){return ae.get("/myOrder")}},{key:"alreadyEvaluated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ae.get("/alreadyEvaluated",{params:{page:e}})}},{key:"tobeEvaluated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ae.get("/tobeEvaluated",{params:{page:e}})}},{key:"evaluateOne",value:function(e){return ae.post("/evaluateOne",{_id:e})}}]),e}(),ce=n("Fd2+");u.a.use(ce.C).use(ce.D).use(ce.B).use(ce.E).use(ce.x).use(ce.F).use(ce.h).use(ce.n).use(ce.e).use(ce.f).use(ce.z).use(ce.A).use(ce.k).use(ce.l).use(ce.m).use(ce.w).use(ce.v).use(ce.g).use(ce.y).use(ce.b).use(ce.a).use(ce.c).use(ce.d).use(ce.t).use(ce.j).use(ce.i).use(ce.s).use(ce.u).use(ce.G).use(ce.q).use(ce.r),u.a.use(ce.p,{preLoad:1.3,loading:"http://www.tuyiyi.com/images/201402/161ZJ2O-8.gif",attempt:1});var le=n("v5o6"),de=n.n(le);n("j1ja"),n("4ml/"),n("991W"),n("v2ns"),n("0Hw8"),n("n4oI"),n("hVHe"),n("MXtD");u.a.prototype.Api=se,de.a.attach(document.body),u.a.config.productionTip=!1,new u.a({el:"#app",store:J,router:K,components:{App:v},template:"<App/>"})},hVHe:function(e,t){},n4oI:function(e,t){},v2ns:function(e,t){},vuvC:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5d5026267e784f1ded06.js.map