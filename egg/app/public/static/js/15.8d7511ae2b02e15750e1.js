webpackJsonp([15],{"4S4F":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e("Xxa5"),a=e.n(n),r=e("exGp"),i=e.n(r),o=e("Dd8w"),d=e.n(o),c=e("6mRb"),l=e("NYxO"),u={name:"Address",mixins:[e("5jRo").c],components:{Scroll:c.a},data:function(){return{chosenAddressId:"1",list:[],isPay:!1}},methods:d()({onAdd:function(){this.$router.push("/addressEdit")},goBack:function(){this.$router.go(-1)},onEdit:function(t,s){this.setAddress(t),this.$router.push("/addressEdit")},setDefaultAddress:function(t){var s=this;return i()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Api.setDefaultAddress(t);case 3:n=e.sent,200==n.data.code&&s.$toast("设置默认地址成功"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s.$toast("网络错误");case 11:case"end":return e.stop()}},e,s,[[0,8]])}))()},onSelect:function(t){var s=this;this.isPay?(this.setAddress2(t),setTimeout(function(){s.$router.go(-1)},500)):this.setDefaultAddress(t._id)}},Object(l.b)(["setAddress"]),Object(l.d)({setAddress2:"TEMPORARYADDRESS"})),created:function(){var t=this;return i()(a.a.mark(function s(){var e,n,r,i;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t.showFlag=!0,s.next=4,t.Api.getAddress();case 4:if(e=s.sent,200==(n=e.data).code)for(t.showFlag=!1,t.list=n.address.reverse(),r=void 0,i=0;i<t.list.length;i++)1==t.list[i].isDefault?((r=t.list[i]).id="1",t.list.splice(i,1),t.list.unshift(r)):t.list[i].id=String(i+2);s.next=14;break;case 9:s.prev=9,s.t0=s.catch(0),console.log(s.t0),t.$toast("网络错误"),t.showFlag=!1;case 14:case"end":return s.stop()}},s,t,[[0,9]])}))()},beforeRouteEnter:function(t,s,e){e(function(t){"ShoppingPayMent"==s.name&&(t.isPay=!0)})}},h={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"address"},[e("van-nav-bar",{attrs:{title:"地址列表","left-arrow":""},on:{"click-left":t.goBack}}),t._v(" "),e("Scroll",{directives:[{name:"show",rawName:"v-show",value:!t.showFlag,expression:"!showFlag"}],staticClass:"scroll",attrs:{data:t.list}},[e("div",[e("van-address-list",{attrs:{list:t.list},on:{edit:t.onEdit,select:t.onSelect},model:{value:t.chosenAddressId,callback:function(s){t.chosenAddressId=s},expression:"chosenAddressId"}})],1),t._v(" "),t.list&&t.list.length?t._e():e("div",{staticClass:"nolist"},[t._v("\n            暂无收货地址~~\n        ")])]),t._v(" "),e("div",{staticClass:"add",on:{click:t.onAdd}},[t._v("新增地址")]),t._v(" "),e("BaseLoding",{attrs:{showFlag:t.showFlag}})],1)},staticRenderFns:[]};var v=e("VU/8")(u,h,!1,function(t){e("8naA")},"data-v-0d435112",null);s.default=v.exports},"8naA":function(t,s){}});
//# sourceMappingURL=15.8d7511ae2b02e15750e1.js.map